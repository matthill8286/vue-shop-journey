(function(t){function e(e){for(var n,c,i=e[0],u=e[1],s=e[2],d=0,p=[];d<i.length;d++)c=i[d],a[c]&&p.push(a[c][0]),a[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={app:0},o=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},cd49:function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-view")},o=[],c=r("d225"),i=r("b0b4"),u=r("308d"),s=r("6bb5"),l=r("4e2b"),d=r("9ab4"),p=r("60a3"),f=(r("7f7f"),r("ac6a"),r("75fc")),h=r("bc3a"),b=r.n(h),v={products:"/api/products",orders:"/api/orders"},y=function(){function t(){Object(c["a"])(this,t)}return Object(i["a"])(t,[{key:"loadProducts",value:function(){return b.a.get(v.products).then(function(t){return t.data})}},{key:"storeOrder",value:function(t){var e={lines:Object(f["a"])(t.orderLines.values()).map(function(t){return{productId:t.product.id,productName:t.product.name,quantity:t.quantity}})};return b.a.post(v.orders,e).then(function(t){return t.data.id})}}]),t}(),m=(r("96cf"),r("3b8d")),O=(r("5df3"),r("4f7f"),r("2f62")),g=(r("20d6"),function(){function t(e,r){Object(c["a"])(this,t),this.product=e,this.quantity=r}return Object(i["a"])(t,[{key:"total",get:function(){return this.product.price*this.quantity}}]),t}()),_=function(){function t(e){var r;(Object(c["a"])(this,t),this.lines=[],e)&&(r=this.lines).push.apply(r,Object(f["a"])(e))}return Object(i["a"])(t,[{key:"addProduct",value:function(t,e){var r=this.lines.findIndex(function(e){return e.product.id===t.id});r>-1?0===e?this.removeProduct(t.id):this.lines[r].quantity+=e:this.lines.push(new g(t,e))}},{key:"removeProduct",value:function(t){this.lines=this.lines.filter(function(e){return e.product.id!==t})}},{key:"orderLines",get:function(){return this.lines}},{key:"productCount",get:function(){return this.lines.reduce(function(t,e){return t+e.quantity},0)}},{key:"total",get:function(){return this.lines.reduce(function(t,e){return t+e.total},0)}}]),t}();n["a"].use(O["a"]);var j=new O["a"].Store({state:{products:[],order:new _,selectedCategory:"All",storedId:-1},mutations:{selectCategory:function(t,e){t.selectedCategory=e},addToOrder:function(t,e){t.order.addProduct(e.product,e.quantity)},addProducts:function(t,e){t.products=e},setOrderId:function(t,e){t.storedId=e},resetOrder:function(t){t.order=new _}},getters:{categories:function(t){return["All"].concat(Object(f["a"])(new Set(t.products.map(function(t){return t.category}))))},filteredProducts:function(t){return t.products.filter(function(e){return"All"===t.selectedCategory||t.selectedCategory===e.category})}},actions:{loadProducts:function(){var t=Object(m["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:n=t.sent,e.commit("addProducts",n);case 4:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),storeOrder:function(){var t=Object(m["a"])(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,r(e.state.order);case 3:t.t1=t.sent,t.t0.commit.call(t.t0,"setOrderId",t.t1),e.commit("resetOrder");case 6:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}()}});function C(t){return function(e,r){return{get:function(){return j.state[t]}}}}function x(t){return function(e,r){return{get:function(){return j.getters[t||r]}}}}function k(t){return function(e,r,n){n.value=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];j.commit.apply(j,[t||r].concat(n))}}}function w(t){return function(e,r,n){n.value=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];j.dispatch.apply(j,[t||r].concat(n))}}}var P=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(s["a"])(e).call(this)),t.handler=new y,t.loadProducts(t.handler.loadProducts),t}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"loadProducts",value:function(t){}}]),e}(p["c"]);d["a"]([w()],P.prototype,"loadProducts",null),P=d["a"]([p["a"]],P);var T=P,$=T,S=r("2877"),q=Object(S["a"])($,a,o,!1,null,null,null),A=q.exports,I=r("8c4f"),E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header"),r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-3 p-2"},[r("CategoryList",{attrs:{categories:t.categories,selected:t.selectedCategory},on:{selectCategory:t.handleSelectCategory}})],1),r("div",{staticClass:"col-9 p-2"},t._l(t.filteredProducts,function(e){return r("ProductItem",{key:e.id,attrs:{product:e},on:{addToCart:t.handleAddToCart}})}),1)])])],1)},F=[],H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card m-1 p-1 bg-light"},[r("h4",[t._v("\n        "+t._s(t.product.name)+"\n        "),r("span",{staticClass:"badge badge-pill badge-primary float-right"},[t._v("\n            $"+t._s(t.product.price.toFixed(2))+"\n        ")])]),r("div",{staticClass:"card-text bg-white p-1"},[t._v("\n        "+t._s(t.product.description)+"\n        "),r("button",{staticClass:"btn btn-success btn-sm float-right",on:{click:t.handleAddToCart}},[t._v("\n            Add To Cart\n        ")]),r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control-inline float-right m-1",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var r="_value"in e?e._value:e.value;return t._n(r)});t.quantity=e.target.multiple?r:r[0]}}},[r("option",[t._v("1")]),r("option",[t._v("2")]),r("option",[t._v("3")])])])])},L=[],M=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.quantity=1,t}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"handleAddToCart",value:function(){this.$emit("addToCart",{product:this.product,quantity:this.quantity})}}]),e}(p["c"]);d["a"]([Object(p["b"])()],M.prototype,"product",void 0),M=d["a"]([p["a"]],M);var R=M,B=R,N=Object(S["a"])(B,H,L,!1,null,null,null),J=N.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.categories,function(e){return r("button",{key:e,class:t.getButtonClasses(e),on:{click:function(r){return t.selectCategory(e)}}},[t._v("\n            "+t._s(e)+"\n    ")])}),0)},Q=[],W=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.selected=t.categories[0],t}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"selectCategory",value:function(t){this.$emit("selectCategory",t)}},{key:"getButtonClasses",value:function(t){var e=this.selected===t?"btn-primary":"btn-secondary";return"btn btn-block ".concat(e)}}]),e}(p["c"]);d["a"]([Object(p["b"])()],W.prototype,"categories",void 0),d["a"]([Object(p["b"])()],W.prototype,"selected",void 0),W=d["a"]([p["a"]],W);var Y=W,z=Y,D=Object(S["a"])(z,K,Q,!1,null,null,null),G=D.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-1 bg-secondary text-white text-right"},[t._v("\n    "+t._s(t.displayText)+" \n    "),r("router-link",{staticClass:"btn btn-sm btn-primary m-1",attrs:{to:"/order"}},[t._v("\n        Submit Order\n    ")])],1)},V=[],X=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"displayText",get:function(){var t=this.order.productCount;return 0===t?"(No Selection)":"".concat(t," product(s), $").concat(this.order.total.toFixed(2))}}]),e}(p["c"]);d["a"]([C("order")],X.prototype,"order",void 0),X=d["a"]([p["a"]],X);var Z=X,tt=Z,et=Object(S["a"])(tt,U,V,!1,null,null,null),rt=et.exports,nt=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"handleSelectCategory",value:function(t){}},{key:"handleAddToCart",value:function(t){}}]),e}(p["c"]);d["a"]([C("selectedCategory")],nt.prototype,"selectedCategory",void 0),d["a"]([x()],nt.prototype,"filteredProducts",void 0),d["a"]([x()],nt.prototype,"categories",void 0),d["a"]([k("selectCategory")],nt.prototype,"handleSelectCategory",null),d["a"]([k("addToOrder")],nt.prototype,"handleAddToCart",null),nt=d["a"]([Object(p["a"])({components:{ProductItem:J,CategoryList:G,Header:rt}})],nt);var at=nt,ot=at,ct=Object(S["a"])(ot,E,F,!1,null,null,null),it=ct.exports,ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",{staticClass:"text-center bg-primary text-white p-2"},[t._v("Order Summary")]),r("div",{staticClass:"p-3"},[r("table",{staticClass:"table table-sm table-striped"},[t._m(0),r("tbody",t._l(t.order.lines,function(e){return r("tr",{key:e.product.id},[r("td",[t._v(t._s(e.quantity))]),r("td",[t._v(t._s(e.product.name))]),r("td",{staticClass:"text-right"},[t._v("\n                        $"+t._s(e.product.price.toFixed(2))+"\n                    ")]),r("td",{staticClass:"text-right"},[t._v("\n                        $"+t._s(e.total.toFixed(2))+"\n                    ")])])}),0),r("tfoot",[r("tr",[r("th",{staticClass:"text-right",attrs:{colSpan:"3"}},[t._v("Total:")]),r("th",{staticClass:"text-right"},[t._v("\n                        $"+t._s(t.order.total.toFixed(2))+"\n                    ")])])])])]),r("div",{staticClass:"text-center"},[r("router-link",{staticClass:"btn btn-secondary m-1",attrs:{to:"/products"}},[t._v("\n            Back\n        ")]),r("button",{staticClass:"btn btn-primary m-1",on:{click:t.submit}},[t._v("\n            Submit Order\n        ")])],1)])},st=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Quantity")]),r("th",[t._v("Product")]),r("th",{staticClass:"text-right"},[t._v("Price")]),r("th",{staticClass:"text-right"},[t._v("Subtotal")])])])}],lt=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.httpHandler=new y,t}return Object(l["a"])(e,t),Object(i["a"])(e,[{key:"storeOrder",value:function(t){}},{key:"submit",value:function(){var t=this;this.storeOrder(function(e){return t.httpHandler.storeOrder(e).then(function(e){return t.$router.push("/summary"),e})})}}]),e}(p["c"]);d["a"]([C("order")],lt.prototype,"order",void 0),d["a"]([w()],lt.prototype,"storeOrder",null),lt=d["a"]([Object(p["a"])({router:jt})],lt);var dt=lt,pt=dt,ft=Object(S["a"])(pt,ut,st,!1,null,null,null),ht=ft.exports,bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"m-2 text-center"},[r("h2",[t._v("Thanks!")]),r("p",[t._v("Thanks for placing your order.")]),r("p",[t._v("Your order is #"+t._s(t.id))]),r("p",[t._v("We'll ship your goods as soon as possible.")]),r("router-link",{staticClass:"btn btn-primary",attrs:{to:"/products"}},[t._v("OK")])],1)},vt=[],yt=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(p["c"]);d["a"]([C("storedId")],yt.prototype,"id",void 0),yt=d["a"]([p["a"]],yt);var mt=yt,Ot=mt,gt=Object(S["a"])(Ot,bt,vt,!1,null,null,null),_t=gt.exports;n["a"].use(I["a"]);var jt=new I["a"]({mode:"history",base:"/",routes:[{path:"/products",component:it},{path:"/order",component:ht},{path:"/summary",component:_t},{path:"/",redirect:"/products"}]});r("ab8b");n["a"].config.productionTip=!1,new n["a"]({router:jt,store:j,render:function(t){return t(A)}}).$mount("#app")}});
//# sourceMappingURL=app.45aba459.js.map