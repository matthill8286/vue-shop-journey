{"remainingRequest":"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/thread-loader/dist/cjs.js!/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/babel-loader/lib/index.js!/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/ts-loader/index.js??ref--13-3!/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/src/store.ts","dependencies":[{"path":"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/src/store.ts","mtime":1562942686000},{"path":"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport _toConsumableArray from \"/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { Order } from \"./data/entities\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    products: [],\n    order: new Order(),\n    selectedCategory: \"All\",\n    storedId: -1\n  },\n  mutations: {\n    selectCategory: function selectCategory(currentState, category) {\n      currentState.selectedCategory = category;\n    },\n    addToOrder: function addToOrder(currentState, selection) {\n      currentState.order.addProduct(selection.product, selection.quantity);\n    },\n    addProducts: function addProducts(currentState, products) {\n      currentState.products = products;\n    },\n    setOrderId: function setOrderId(currentState, id) {\n      currentState.storedId = id;\n    },\n    resetOrder: function resetOrder(currentState) {\n      currentState.order = new Order();\n    }\n  },\n  getters: {\n    categories: function categories(state) {\n      return [\"All\"].concat(_toConsumableArray(new Set(state.products.map(function (p) {\n        return p.category;\n      }))));\n    },\n    filteredProducts: function filteredProducts(state) {\n      return state.products.filter(function (p) {\n        return state.selectedCategory === \"All\" || state.selectedCategory === p.category;\n      });\n    }\n  },\n  actions: {\n    loadProducts: function () {\n      var _loadProducts = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(context, task) {\n        var data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return task();\n\n              case 2:\n                data = _context.sent;\n                context.commit(\"addProducts\", data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function loadProducts(_x, _x2) {\n        return _loadProducts.apply(this, arguments);\n      }\n\n      return loadProducts;\n    }(),\n    storeOrder: function () {\n      var _storeOrder = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(context, task) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.t0 = context;\n                _context2.next = 3;\n                return task(context.state.order);\n\n              case 3:\n                _context2.t1 = _context2.sent;\n\n                _context2.t0.commit.call(_context2.t0, \"setOrderId\", _context2.t1);\n\n                context.commit(\"resetOrder\");\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function storeOrder(_x3, _x4) {\n        return _storeOrder.apply(this, arguments);\n      }\n\n      return storeOrder;\n    }()\n  }\n});",{"version":3,"sources":["/Users/matthewhill/Downloads/essential-typescript-master/22 - Vue.js Web App - 2/vueapp/src/store.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,IAAP,MAAiB,MAAjB;AACA,SAAkB,KAAlB;AAEA,GAAG,CAAC,GAAJ,CAAQ,IAAR;AAcA,eAAe,IAAI,IAAI,CAAC,KAAT,CAA2B;AACtC,EAAA,KAAK,EAAE;AACH,IAAA,QAAQ,EAAE,EADP;AAEH,IAAA,KAAK,EAAE,IAAI,KAAJ,EAFJ;AAGH,IAAA,gBAAgB,EAAE,KAHf;AAIH,IAAA,QAAQ,EAAE,CAAC;AAJR,GAD+B;AAQtC,EAAA,SAAS,EAAE;AAEP,IAAA,cAFO,0BAEQ,YAFR,EAEkC,QAFlC,EAEkD;AACrD,MAAA,YAAY,CAAC,gBAAb,GAAgC,QAAhC;AACH,KAJM;AAMP,IAAA,UANO,sBAMI,YANJ,EAM8B,SAN9B,EAMyD;AAC5D,MAAA,YAAY,CAAC,KAAb,CAAmB,UAAnB,CAA8B,SAAS,CAAC,OAAxC,EAAiD,SAAS,CAAC,QAA3D;AACH,KARM;AAUP,IAAA,WAVO,uBAUK,YAVL,EAU+B,QAV/B,EAUkD;AACrD,MAAA,YAAY,CAAC,QAAb,GAAwB,QAAxB;AACH,KAZM;AAcP,IAAA,UAdO,sBAcI,YAdJ,EAc8B,EAd9B,EAcwC;AAC3C,MAAA,YAAY,CAAC,QAAb,GAAwB,EAAxB;AACH,KAhBM;AAkBP,IAAA,UAlBO,sBAkBI,YAlBJ,EAkB4B;AAC/B,MAAA,YAAY,CAAC,KAAb,GAAqB,IAAI,KAAJ,EAArB;AACH;AApBM,GAR2B;AA+BtC,EAAA,OAAO,EAAE;AAEL,IAAA,UAFK,sBAEM,KAFN,EAEW;AACZ,cAAQ,KAAR,4BAAkB,IAAI,GAAJ,CAAQ,KAAK,CAAC,QAAN,CAAe,GAAf,CAAmB,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,QAAN;AAAA,OAApB,CAAR,CAAlB;AACH,KAJI;AAML,IAAA,gBANK,4BAMY,KANZ,EAMiB;AAClB,aAAO,KAAK,CAAC,QAAN,CAAe,MAAf,CAAsB,UAAA,CAAC;AAAA,eAAI,KAAK,CAAC,gBAAN,KAA2B,KAA3B,IAC3B,KAAK,CAAC,gBAAN,KAA2B,CAAC,CAAC,QADN;AAAA,OAAvB,CAAP;AAEH;AATI,GA/B6B;AA2CtC,EAAA,OAAO,EAAE;AACC,IAAA,YADD;AAAA;AAAA;AAAA,+CACc,OADd,EACuB,IADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEgB,IAAI,EAFpB;;AAAA;AAEG,gBAAA,IAFH;AAGD,gBAAA,OAAO,CAAC,MAAR,CAAe,aAAf,EAA8B,IAA9B;;AAHC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAMC,IAAA,UAND;AAAA;AAAA;AAAA,gDAMY,OANZ,EAMqB,IANrB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAOD,OAPC;AAAA;AAAA,uBAOkC,IAAI,CAAC,OAAO,CAAC,KAAR,CAAc,KAAf,CAPtC;;AAAA;AAAA;;AAAA,6BAOO,MAPP,oBAOc,YAPd;;AAQD,gBAAA,OAAO,CAAC,MAAR,CAAe,YAAf;;AARC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AA3C6B,CAA3B,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { Product, Order } from './data/entities';\n\nVue.use(Vuex)\n\nexport interface StoreState {\n    products: Product[],\n    order: Order,\n    selectedCategory: string,\n    storedId: number\n}\n\ntype ProductSelection = {\n    product: Product, \n    quantity: number\n}\n\nexport default new Vuex.Store<StoreState>({\n    state: {\n        products: [],\n        order: new Order(),\n        selectedCategory: \"All\",\n        storedId: -1\n    },\n\n    mutations: {\n\n        selectCategory(currentState: StoreState, category: string) {\n            currentState.selectedCategory = category;\n        },\n\n        addToOrder(currentState: StoreState, selection: ProductSelection) {\n            currentState.order.addProduct(selection.product, selection.quantity);\n        },\n\n        addProducts(currentState: StoreState, products: Product[]) {\n            currentState.products = products;\n        },        \n\n        setOrderId(currentState: StoreState, id: number) {\n            currentState.storedId = id;\n        },\n\n        resetOrder(currentState: StoreState) {\n            currentState.order = new Order();\n        }\n    },\n\n    getters: {\n\n        categories(state): string[] {\n            return [\"All\", ...new Set(state.products.map(p => p.category))];\n        },\n\n        filteredProducts(state): Product[] {\n            return state.products.filter(p => state.selectedCategory === \"All\" \n                || state.selectedCategory === p.category);\n        }\n    },\n\n    actions: {\n        async loadProducts(context, task: () => Promise<Product[]>) {\n            let data = await task();\n            context.commit(\"addProducts\", data);\n        },\n\n        async storeOrder(context, task: (order: Order) => Promise<number>) {\n            context.commit(\"setOrderId\", await task(context.state.order));\n            context.commit(\"resetOrder\");\n        }\n    }  \n})\n"],"sourceRoot":""}]}